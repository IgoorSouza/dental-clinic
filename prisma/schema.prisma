generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum Role {
  ADMIN
  OWNER
}

enum PaymentMethod {
  DEBIT
  CREDIT
  CASH
  CHECK
  PIX
}

model User {
  id       String @id @default(uuid())
  name     String
  email    String @unique
  password String
  role     Role
}

model Schedule {
  id             String       @id @default(uuid())
  title          String
  description    String
  price          Float
  startTime      DateTime
  endTime        DateTime
  createdAt      DateTime     @default(now())
  updatedAt      DateTime     @default(now()) @updatedAt
  professional   Professional @relation(fields: [professionalId], references: [id])
  customer       Customer     @relation(fields: [customerId], references: [id])
  professionalId String
  customerId     String
  Payment        Payment[]
}

model Professional {
  id       String     @id @default(uuid())
  name     String
  email    String
  phone    String
  Schedule Schedule[]
}

model Payment {
  id         String        @id @default(uuid())
  amount     Float
  method     PaymentMethod
  date       DateTime      @default(now())
  schedule   Schedule      @relation(fields: [scheduleId], references: [id])
  scheduleId String
}

model Customer {
  id       String     @id @default(uuid())
  name     String
  phone    String
  Schedule Schedule[]
}
